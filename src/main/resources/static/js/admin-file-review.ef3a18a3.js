(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-file-review"],{"02fd":function(e,t,a){"use strict";var i=a("dbf0"),r=a.n(i);r.a},"11e9":function(e,t,a){var i=a("52a7"),r=a("4630"),o=a("6821"),n=a("6a99"),l=a("69a8"),s=a("c69a"),c=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?c:function(e,t){if(e=o(e),t=n(t,!0),s)try{return c(e,t)}catch(a){}if(l(e,t))return r(!i.f.call(e,t),e[t])}},"16ac":function(e,t,a){"use strict";var i=a("e65e"),r=a.n(i);r.a},"323e":function(e,t,a){var i,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(o,n){i=n,r="function"===typeof i?i.call(t,a,t,e):i,void 0===r||(e.exports=r)})(0,function(){var e={version:"0.2.0"},t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(e,t,a){return e<t?t:e>a?a:e}function i(e){return 100*(-1+e)}function r(e,a,r){var o;return o="translate3d"===t.positionUsing?{transform:"translate3d("+i(e)+"%,0,0)"}:"translate"===t.positionUsing?{transform:"translate("+i(e)+"%,0)"}:{"margin-left":i(e)+"%"},o.transition="all "+a+"ms "+r,o}e.configure=function(e){var a,i;for(a in e)i=e[a],void 0!==i&&e.hasOwnProperty(a)&&(t[a]=i);return this},e.status=null,e.set=function(i){var l=e.isStarted();i=a(i,t.minimum,1),e.status=1===i?null:i;var s=e.render(!l),c=s.querySelector(t.barSelector),u=t.speed,d=t.easing;return s.offsetWidth,o(function(a){""===t.positionUsing&&(t.positionUsing=e.getPositioningCSS()),n(c,r(i,u,d)),1===i?(n(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){n(s,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){e.remove(),a()},u)},u)):setTimeout(a,u)}),this},e.isStarted=function(){return"number"===typeof e.status},e.start=function(){e.status||e.set(0);var a=function(){setTimeout(function(){e.status&&(e.trickle(),a())},t.trickleSpeed)};return t.trickle&&a(),this},e.done=function(t){return t||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(t){var i=e.status;return i?("number"!==typeof t&&(t=(1-i)*a(Math.random()*i,.1,.95)),i=a(i+t,0,.994),e.set(i)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},function(){var t=0,a=0;e.promise=function(i){return i&&"resolved"!==i.state()?(0===a&&e.start(),t++,a++,i.always(function(){a--,0===a?(t=0,e.done()):e.set((t-a)/t)}),this):this}}(),e.render=function(a){if(e.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var r=document.createElement("div");r.id="nprogress",r.innerHTML=t.template;var o,l=r.querySelector(t.barSelector),c=a?"-100":i(e.status||0),u=document.querySelector(t.parent);return n(l,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),t.showSpinner||(o=r.querySelector(t.spinnerSelector),o&&d(o)),u!=document.body&&s(u,"nprogress-custom-parent"),u.appendChild(r),r},e.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function t(){var a=e.shift();a&&a(t)}return function(a){e.push(a),1==e.length&&t()}}(),n=function(){var e=["Webkit","O","Moz","ms"],t={};function a(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function i(t){var a=document.body.style;if(t in a)return t;var i,r=e.length,o=t.charAt(0).toUpperCase()+t.slice(1);while(r--)if(i=e[r]+o,i in a)return i;return t}function r(e){return e=a(e),t[e]||(t[e]=i(e))}function o(e,t,a){t=r(t),e.style[t]=a}return function(e,t){var a,i,r=arguments;if(2==r.length)for(a in t)i=t[a],void 0!==i&&t.hasOwnProperty(a)&&o(e,a,i);else o(e,r[1],r[2])}}();function l(e,t){var a="string"==typeof e?e:u(e);return a.indexOf(" "+t+" ")>=0}function s(e,t){var a=u(e),i=a+t;l(a,t)||(e.className=i.substring(1))}function c(e,t){var a,i=u(e);l(e,t)&&(a=i.replace(" "+t+" "," "),e.className=a.substring(1,a.length-1))}function u(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})},"33bd":function(e,t,a){"use strict";var i=a("7321"),r=a.n(i);r.a},"39bc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:9}},[a("el-collapse",[a("el-collapse-item",{attrs:{title:"专栏管理"}},[a("category-table",{attrs:{categoryData:e.categoryData,editDialogVis:e.editDialogVisible},on:{edit:e.editCategory,delete:e.deleteCategory}}),a("el-form",{staticStyle:{"text-align":"left",padding:"10px","margin-top":"2px","border-color":"#E0E0E0","border-style":"solid","border-width":"thin"},attrs:{model:e.addCategoryForm,"label-position":"left","label-width":"80px"}},[a("div",{staticStyle:{"text-align":"left","padding-bottom":"10px","font-weight":"bold"}},[e._v("新增专栏：")]),a("el-form-item",{attrs:{label:"专栏名称"}},[a("el-input",{model:{value:e.addCategoryForm.specialcName,callback:function(t){e.$set(e.addCategoryForm,"specialcName",t)},expression:"addCategoryForm.specialcName"}})],1),a("el-form-item",{attrs:{label:"专栏描述"}},[a("el-input",{model:{value:e.addCategoryForm.speaiclcRemark,callback:function(t){e.$set(e.addCategoryForm,"speaiclcRemark",t)},expression:"addCategoryForm.speaiclcRemark"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addCategory}},[e._v("确认添加")])],1)],1)],1),a("el-collapse-item",{attrs:{title:"文章管理"}},[a("el-form",{staticStyle:{"text-align":"left",padding:"10px","margin-top":"2px","border-color":"#E0E0E0","border-style":"solid","border-width":"thin"},attrs:{model:e.addArticleForm,"label-position":"left","label-width":"80px"}},[a("div",{staticStyle:{"text-align":"left","padding-bottom":"10px","font-weight":"bold"}},[e._v("上传文章：")]),a("el-steps",{attrs:{active:e.addArticleStepActive,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"上传文章图片"}}),a("el-step",{attrs:{title:"上传其他信息"}})],1),0===e.addArticleStepActive?a("div",[a("el-form-item",{attrs:{label:"选择图片:"}},[a("el-upload",{staticClass:"pic-uploader",attrs:{action:"picture/upload","file-list":e.upPicList,"auto-upload":!1,limit:2,"on-change":e.change_file_list,"on-exceed":e.picNumOut}},[a("span",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("可上传jpg/png文件")]),a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取图片")])],1),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.picUpload}},[e._v("确定")])],1)],1):e._e(),1===e.addArticleStepActive?a("div",[a("el-form-item",{attrs:{label:"文章标题"}},[a("el-input",{model:{value:e.addArticleForm.specialcName,callback:function(t){e.$set(e.addArticleForm,"specialcName",t)},expression:"addArticleForm.specialcName"}})],1),a("el-form-item",{attrs:{label:"文章所属"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addArticleForm.specialColumnId,callback:function(t){e.$set(e.addArticleForm,"specialColumnId",t)},expression:"addArticleForm.specialColumnId"}},e._l(e.categoryDataNotDelete,function(e){return a("el-option",{key:e.sid,attrs:{label:e.specialcName,value:e.sid}})}),1)],1),a("el-form-item",{attrs:{label:"文章url"}},[a("el-input",{model:{value:e.addArticleForm.speaiclcRemark,callback:function(t){e.$set(e.addArticleForm,"speaiclcRemark",t)},expression:"addArticleForm.speaiclcRemark"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"small",round:"",type:"info"},on:{click:e.stepBack}},[e._v("返回上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addArticle}},[e._v("确认添加")])],1)],1):e._e()],1)],1)],1)],1),a("article-table",{attrs:{tableData:e.tableData,categoryData:e.categoryData},on:{delete:e.deleteArticle}})],1)},r=[],o=(a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-col",{attrs:{span:14}},[a("el-table",{attrs:{data:e.tableData,"max-height":"500"}},[a("el-table-column",{attrs:{label:"文章上传记录",align:"center"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"文章id"}},[a("span",[e._v(e._s(t.row.aid))])]),a("el-form-item",{attrs:{label:"文章标题"}},[a("span",[e._v(e._s(t.row.articleTitle))])]),a("el-form-item",{attrs:{label:"所属板块"}},[a("span",[e._v(e._s(t.row.specialColumnName))])]),a("el-form-item",{attrs:{label:"文章URL"}},[a("a",{attrs:{target:"_blank",href:t.row.articleUrl}},[e._v("点此跳转")])]),a("el-form-item",{attrs:{label:"上传时间"}},[a("span",[e._v(e._s(t.row.createTime))])]),a("el-form-item",{attrs:{label:"更新时间"}},[a("span",[e._v(e._s(t.row.updateTime))])]),a("el-form-item",{attrs:{label:"图片展示"}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.articlePicUrl,"preview-src-list":e.srcList}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("span",[e._v(e._s(t.row.status))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"aid",label:"文章id",align:"center",width:"80"}}),a("el-table-column",{attrs:{prop:"articleTitle",label:"文章标题",align:"center",width:"250"}}),a("el-table-column",{attrs:{prop:"specialColumnName",label:"所属板块",align:"center",filters:e.categoryFilArr,"filter-method":e.filterCategory,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",filters:[{text:"已删除",value:"已删除"},{text:"正常",value:"正常"}],"filter-method":e.filterStatue,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteReq(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"修改文章信息",visible:e.editDialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{attrs:{model:e.editArticleForm}},[a("label",[e._v("原名称："+e._s(e.editRowInfo.articleTitle))]),a("br"),a("label",[e._v("原url："+e._s(e.editRowInfo.articleUrl))]),a("br"),a("label",[e._v("原属专栏："+e._s(e.editRowInfo.specialColumnName))]),a("el-form-item",{attrs:{label:"新的文章名称"}},[a("el-input",{model:{value:e.editArticleForm.specialcName,callback:function(t){e.$set(e.editArticleForm,"specialcName",t)},expression:"editArticleForm.specialcName"}})],1),a("el-form-item",{attrs:{label:"新的url"}},[a("el-input",{model:{value:e.editArticleForm.speaiclcRemark,callback:function(t){e.$set(e.editArticleForm,"speaiclcRemark",t)},expression:"editArticleForm.speaiclcRemark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1)}),n=[],l={props:{tableData:Array,categoryData:Array},data:function(){return{categoryFilArr:[],editArticleForm:{},editRowInfo:{},editDialogVisible:!1}},created:function(){this.categoryFilter()},methods:{categoryFilter:function(){for(var e=this,t=e.categoryData,a=0;a<t.length;a++)if(0===t[a].isDelete){var i={};i.text=t[a].specialcName,i.value=t[a].specialcName,e.categoryFilArr.push(i)}},filterCategory:function(e,t){return t.specialColumnName===e},filterStatue:function(e,t){return t.status===e},editBtn:function(e){console.log(e),this.editRowInfo=e,this.editDialogVisible=!0},deleteReq:function(e){var t={id:e.aid};this.$emit("delete",t)}}},s=l,c=(a("16ac"),a("2877")),u=Object(c["a"])(s,o,n,!1,null,null,null),d=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.categoryData,"max-height":"300"}},[a("el-table-column",{attrs:{label:"专栏详情记录",align:"center"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"专栏id"}},[a("span",[e._v(e._s(t.row.sid))])]),a("el-form-item",{attrs:{label:"专栏名称"}},[a("span",[e._v(e._s(t.row.specialcName))])]),a("el-form-item",{attrs:{label:"创建时间"}},[a("span",[e._v(e._s(t.row.createTime))])]),a("el-form-item",{attrs:{label:"更新时间"}},[a("span",[e._v(e._s(t.row.updateTime))])]),a("el-form-item",{attrs:{label:"专栏描述"}},[a("span",[e._v(e._s(t.row.specialcRemark))])]),a("el-form-item",{attrs:{label:"状态"}},[a("span",[e._v(e._s(t.row.status))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"sid",label:"专栏id",align:"center",width:"80"}}),a("el-table-column",{attrs:{prop:"specialcName",label:"专栏名称",align:"center"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",filters:[{text:"已删除",value:"已删除"},{text:"正常",value:"正常"}],"filter-method":e.filterStatue,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editBtn(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteReq(t.row)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"修改专栏信息",visible:e.editDialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{attrs:{model:e.editCategoryForm}},[a("label",[e._v("原名称："+e._s(e.editRowInfo.specialcName))]),a("br"),a("label",[e._v("原描述："+e._s(e.editRowInfo.specialcRemark))]),a("el-form-item",{attrs:{label:"新的专栏名称"}},[a("el-input",{model:{value:e.editCategoryForm.specialcName,callback:function(t){e.$set(e.editCategoryForm,"specialcName",t)},expression:"editCategoryForm.specialcName"}})],1),a("el-form-item",{attrs:{label:"新的专栏描述"}},[a("el-input",{model:{value:e.editCategoryForm.speaiclcRemark,callback:function(t){e.$set(e.editCategoryForm,"speaiclcRemark",t)},expression:"editCategoryForm.speaiclcRemark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editReq}},[e._v("确 定")])],1)],1)],1)},f=[],p={props:{categoryData:Array,editDialogVis:Boolean},data:function(){return{editCategoryForm:{},editRowInfo:{},editDialogVisible:!1}},created:function(){this.editDialogVisible=this.editDialogVis},watch:{editDialogVis:function(e){this.editDialogVisible=e}},methods:{filterStatue:function(e,t){return t.status===e},editBtn:function(e){this.editDialogVisible=!0,this.editRowInfo=e},closeDialog:function(){this.editDialogVisible=!1,this.editRowInfo={}},editReq:function(){var e=this;e.editCategoryForm.specialcName&&""!=e.editCategoryForm.specialcName.trim()&&console.log(e.editCategoryForm.specialcName);var t={sid:e.editRowInfo.sid,specialcName:e.editCategoryForm.specialcName&&""!=e.editCategoryForm.specialcName.trim()?e.editCategoryForm.specialcName:e.editRowInfo.specialcName,speaiclcRemark:e.editCategoryForm.speaiclcRemark&&""!=e.editCategoryForm.speaiclcRemark.trim()?e.editCategoryForm.speaiclcRemark:e.editRowInfo.speaiclcRemark};e.$emit("edit",t)},deleteReq:function(e){console.log(e);var t={id:e.sid};this.$emit("delete",t)}}},g=p,b=(a("02fd"),Object(c["a"])(g,m,f,!1,null,null,null)),h=b.exports,y=a("83af"),v={components:{ArticleTable:d,CategoryTable:h},data:function(){return{addArticleStepActive:0,categoryDict:{},editDialogVisible:!1,categoryData:[{specialcName:"方向谈",createTime:"2020-04-05 17:20:33",isDelete:0,specialcRemark:"方向谈",updateTime:"2020-04-05 17:20:38",sid:1},{specialcName:"知识说",createTime:"2020-04-05 17:21:00",isDelete:1,specialcRemark:"知识说",updateTime:"2020-04-05 17:21:05",sid:2}],categoryDataNotDelete:[],tableData:[{articleTitle:"测试标题1",createTime:"2020-02-13 20:12:52",specialColumnId:1,isDelete:1,updateTime:"2020-04-05 20:12:56",aid:1,articlePicUrl:"aaa",articleUrl:"aaa"},{articleTitle:"测试标题233",createTime:"2020-04-02 20:13:38",specialColumnId:1,isDelete:0,updateTime:"2020-04-05 20:17:27",aid:2,articlePicUrl:"../pictures/b657b89f9cd5c2e4f1137eae76d2037b/654773ca5a305afafa967307d103edd1/1b17e6713d844f4c8bae2cd560892041.jpg",articleUrl:"https://mp.weixin.qq.com/s/drfJGm0W043P6btPZjcLLg"},{articleTitle:"测试标题3",createTime:"2020-04-05 20:17:44",specialColumnId:2,isDelete:0,updateTime:"2020-04-08 20:17:49",aid:3,articlePicUrl:"wffwe",articleUrl:"dcdf"},{articleTitle:"测试标题1",createTime:"2020-02-13 20:12:52",specialColumnId:1,isDelete:1,updateTime:"2020-04-05 20:12:56",aid:1,articlePicUrl:"aaa",articleUrl:"aaa"},{articleTitle:"测试标题233",createTime:"2020-04-02 20:13:38",specialColumnId:1,isDelete:0,updateTime:"2020-04-05 20:17:27",aid:2,articlePicUrl:"../pictures/b657b89f9cd5c2e4f1137eae76d2037b/654773ca5a305afafa967307d103edd1/1b17e6713d844f4c8bae2cd560892041.jpg",articleUrl:"https://mp.weixin.qq.com/s/drfJGm0W043P6btPZjcLLg"},{articleTitle:"测试标题3",createTime:"2020-04-05 20:17:44",specialColumnId:2,isDelete:0,updateTime:"2020-04-08 20:17:49",aid:3,articlePicUrl:"wffwe",articleUrl:"dcdf"},{articleTitle:"测试标题1",createTime:"2020-02-13 20:12:52",specialColumnId:1,isDelete:1,updateTime:"2020-04-05 20:12:56",aid:1,articlePicUrl:"aaa",articleUrl:"aaa"},{articleTitle:"测试标题233",createTime:"2020-04-02 20:13:38",specialColumnId:1,isDelete:0,updateTime:"2020-04-05 20:17:27",aid:2,articlePicUrl:"../pictures/b657b89f9cd5c2e4f1137eae76d2037b/654773ca5a305afafa967307d103edd1/1b17e6713d844f4c8bae2cd560892041.jpg",articleUrl:"https://mp.weixin.qq.com/s/drfJGm0W043P6btPZjcLLg"},{articleTitle:"测试标题3",createTime:"2020-04-05 20:17:44",specialColumnId:2,isDelete:0,updateTime:"2020-04-08 20:17:49",aid:3,articlePicUrl:"wffwe",articleUrl:"dcdf"},{articleTitle:"测试标题1",createTime:"2020-02-13 20:12:52",specialColumnId:1,isDelete:1,updateTime:"2020-04-05 20:12:56",aid:1,articlePicUrl:"aaa",articleUrl:"aaa"},{articleTitle:"测试标题233",createTime:"2020-04-02 20:13:38",specialColumnId:1,isDelete:0,updateTime:"2020-04-05 20:17:27",aid:2,articlePicUrl:"../pictures/b657b89f9cd5c2e4f1137eae76d2037b/654773ca5a305afafa967307d103edd1/1b17e6713d844f4c8bae2cd560892041.jpg",articleUrl:"https://mp.weixin.qq.com/s/drfJGm0W043P6btPZjcLLg"},{articleTitle:"测试标题3",createTime:"2020-04-05 20:17:44",specialColumnId:2,isDelete:0,updateTime:"2020-04-08 20:17:49",aid:3,articlePicUrl:"wffwe",articleUrl:"dcdf"},{articleTitle:"测试标题1",createTime:"2020-02-13 20:12:52",specialColumnId:1,isDelete:1,updateTime:"2020-04-05 20:12:56",aid:1,articlePicUrl:"aaa",articleUrl:"aaa"},{articleTitle:"测试标题233",createTime:"2020-04-02 20:13:38",specialColumnId:1,isDelete:0,updateTime:"2020-04-05 20:17:27",aid:2,articlePicUrl:"../pictures/b657b89f9cd5c2e4f1137eae76d2037b/654773ca5a305afafa967307d103edd1/1b17e6713d844f4c8bae2cd560892041.jpg",articleUrl:"https://mp.weixin.qq.com/s/drfJGm0W043P6btPZjcLLg"},{articleTitle:"测试标题3",createTime:"2020-04-05 20:17:44",specialColumnId:2,isDelete:0,updateTime:"2020-04-08 20:17:49",aid:3,articlePicUrl:"wffwe",articleUrl:"dcdf"}],addCategoryForm:{},upPicList:[],addArticleForm:{}}},created:function(){var e=this;e.categoryData.forEach(function(t){var a=t.sid,i=t.specialcName;e.categoryDict[a]=i,0===t.isDelete?(t.status="正常",e.categoryDataNotDelete.push(t)):t.status="已删除",t.specialColumnName=e.categoryDict[t.specialColumnId]}),e.tableData.forEach(function(t){0===t.isDelete?t.status="正常":t.status="已删除",t.specialColumnName=e.categoryDict[t.specialColumnId]})},methods:{picNumOut:function(e,t){this.$message.warning("一次只能上传一个文件")},change_file_list:function(e,t){this.upPicList=[e]},picUpload:function(){var e=this;Object(y["c"])().post("/picture/upload",{file:e.upPicList[0]}).then(function(t){console.log(t),200===t.data.code?(e.addArticleForm.articlePicUrl=t.data.data.url,++e.addArticleStepActive>1&&(e.addArticleStepActive=0)):e.$message({showClose:!0,message:"出错了，请重试",type:"error"})}).catch(function(e){console.log(e)})},stepBack:function(){--this.addArticleStepActive<0&&(this.addArticleStepActive=0)},addArticle:function(){var e=this;if(e.addArticleForm.articleTitle&&e.addArticleForm.articleUrl&&e.addArticleForm.articlePicUrl&&e.addArticleForm.specialColumnId){var t={articleTitle:e.addArticleForm.articleTitle,articleUrl:e.addArticleForm.articleUrl,articlePicUrl:e.addArticleForm.articlePicUrl,specialColumnId:e.addArticleForm.specialColumnId};Object(y["c"])().post("/backstage/specialColumnArticle/add",t).then(function(t){console.log(t),200===t.data.code?(e.$message({showClose:!0,message:"上传成功",type:"success"}),e.addArticleStepActive=0):e.$message({showClose:!0,message:"出错了，请重试",type:"error"})}).catch(function(e){console.log(e)})}else e.$message({showClose:!0,message:"请将信息补充完整",type:"error"})},deleteArticle:function(e){var t=this;console.log(e),Object(y["c"])().post("/backstage/specialColumnArticle/delete",{id:e.id}).then(function(e){200===e.data.code?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.reload()):(console.log(e),t.$message({showClose:!0,message:e.data.message,type:"error"}))}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"请求出错，请稍后重试",type:"error"})})},getCategoryAll:function(){var e=this;Object(y["c"])().get("/backstage/specialColumn/getAll",{}).then(function(t){200===t.data.code?(console.log(t),e.categoryData=t.data.data.specialColumns,e.categoryData.forEach(function(t){var a=t.sid,i=t.specialcName;e.categoryDict[a]=i,0===t.isDelete?(t.status="正常",e.categoryDataNotDelete.push(t)):t.status="已删除",t.specialColumnName=e.categoryDict[t.specialColumnId]})):e.$message({showClose:!0,message:t.data.message,type:"error"})}).catch(function(e){console.log(e)})},getArticleData:function(){var e=this;Object(y["c"])().post("/backstage/specialColumnArticle/getAll",{}).then(function(t){if(console.log(t),200===t.data.code){var a=t.data.data.specialColumnArticles;a.forEach(function(t){0===t.isDelete?t.status="正常":t.status="已删除",t.specialColumnName=e.categoryDict[t.specialColumnId]}),e.tableData=a}else e.$message({showClose:!0,message:t.data.message,type:"error"})}).catch(function(e){console.log(e)})},addCategory:function(){var e=this;e.addCategoryForm.specialcName&&e.addCategoryForm.speaiclcRemark&&""!=e.addCategoryForm.specialcName.trim()&&""!=e.addCategoryForm.speaiclcRemark?Object(y["c"])().get("/backstage/specialColumn/add",{params:e.addCategoryForm}).then(function(t){200===t.data.code?console.log(t):e.$message({showClose:!0,message:t.data.message,type:"error"})}).catch(function(e){console.log(e)}):e.$message({showClose:!0,message:无效输入,type:"error"})},editCategory:function(e){var t=this;t.editDialogVisible=!0,Object(y["c"])().get("/backstage/specialColumn/update",{params:e}).then(function(e){200===e.data.code?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.editDialogVisible=!1):(console.log(e),t.$message({showClose:!0,message:e.data.message,type:"error"}))}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"请求出错，请稍后重试",type:"error"})})},deleteCategory:function(e){var t=this;Object(y["c"])().get("/backstage/specialColumn/delete",{params:e}).then(function(e){200===e.data.code?(t.$message({showClose:!0,message:"删除成功",type:"success"}),t.reload()):(console.log(e),t.$message({showClose:!0,message:e.data.message,type:"error"}))}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"请求出错，请稍后重试",type:"error"})})}}},w=v,C=(a("33bd"),Object(c["a"])(w,i,r,!1,null,"2730cd92",null));t["default"]=C.exports},"454f":function(e,t,a){a("46a7");var i=a("584a").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},"46a7":function(e,t,a){var i=a("63b6");i(i.S+i.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},5326:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{col:"12"}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"待审核",name:"review"}},[a("file-table",{attrs:{buttonShow:[1,1,1,1,0,0],tableData:e.tableData,loading:e.loading,status:e.status},on:{handlePreview:e.handlePreview,handleDownload:e.handleDownload,modifyFileStatus:e.modifyFileStatus,changePage:e.getFileList}})],1),a("el-tab-pane",{attrs:{label:"已通过",name:"passed"}},[a("file-table",{attrs:{buttonShow:[0,0,0,0,1,0],tableData:e.tableData,loading:e.loading,status:e.status},on:{modifyFileStatus:e.modifyFileStatus,changePage:e.getFileList}})],1),a("el-tab-pane",{attrs:{label:"未通过",name:"unpass"}},[a("file-table",{attrs:{buttonShow:[0,0,0,0,1,1],tableData:e.tableData,loading:e.loading,status:e.status},on:{modifyFileStatus:e.modifyFileStatus,changePage:e.getFileList}})],1)],1)],1)},r=[],o=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"fileName",label:"文件名",width:"300",align:"center"}}),a("el-table-column",{attrs:{prop:"upperName",label:"上传者",width:"150",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.buttonShow[0]?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览\n            ")]):e._e(),e.buttonShow[1]?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleDownload(t.row)}}},[e._v("下载\n            ")]):e._e(),e.buttonShow[2]?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.modifyFileStatus(t.row,1)}}},[e._v("通过\n            ")]):e._e(),e.buttonShow[3]?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return e.modifyFileStatus(t.row,3)}}},[e._v("不通过\n            ")]):e._e(),e.buttonShow[4]?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return e.modifyFileStatus(t.row,2)}}},[e._v("重新审核\n            ")]):e._e(),e.buttonShow[5]?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.modifyFileStatus(t.row,4)}}},[e._v("删除\n            ")]):e._e()]}}])})],1)}),n=[],l=(a("c5f6"),{props:{tableData:Array,buttonShow:Array,loading:Boolean,status:Number},data:function(){return{}},methods:{handlePreview:function(e){this.$emit("handlePreview",e.fid,e.fileName)},handleDownload:function(e){this.$emit("handleDownload",e.fid)},modifyFileStatus:function(e,t){this.showBox(e,t)},showBox:function(e,t){var a=this;this.$confirm("此操作将更改文件状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$emit("modifyFileStatus",e.fid,t)}).catch(function(){a.$message({type:"info",message:"已取消操作"})})}}}),s=l,c=a("2877"),u=Object(c["a"])(s,o,n,!1,null,null,null),d=u.exports,m=a("8ad4"),f={components:{fileTable:d},data:function(){return{activeName:"review",page:1,status:2,tableData:[],loading:!0}},mounted:function(){this.getFileList(1,this.status)},methods:{handleClick:function(e){this.loading=!0,"review"===e.name&&(this.getFileList(1,2),this.status=2),"passed"===e.name&&(this.getFileList(1,1),this.status=1),"unpass"===e.name&&(this.getFileList(1,3),this.status=3)},handlePreview:function(e,t){if(/\.(?:pdf)$/.test(t)){console.log("预览文件"+e),this.$store.commit("setFid",e);var a=this.$fn.getLocation(window.location.href),i=a.protocol+"//"+a.host;window.open(i+"/admin/previewFile?fid="+e)}else this.$message.warning("目前只支持预览PDF文件哦~")},handleDownload:function(e){if(this.$fn.isLogin()){var t=this.$fn.getLocation(window.location.href),a=t.protocol+"//"+t.host;window.open(a+"/file/download?fid="+e+"&uid=0")}else this.$fn.routerChange("/user/login",this)},modifyFileStatus:function(e,t){var a=this;console.log(e,t);var i={fid:e,status:t};Object(m["c"])(i,function(e){console.log(e),200===e.code?(a.$message.success("修改成功"),a.loading=!0,a.getFileList(a.page,a.status)):a.$message.error("修改失败")})},getFileList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i={keyWord:"",fileCourse:"",page:t,order:!0,status:a};Object(m["a"])(i,function(t){e.loading=!1,e.tableData=t.data.files})}}},p=f,g=Object(c["a"])(p,i,r,!1,null,null,null);t["default"]=g.exports},"5dbc":function(e,t,a){var i=a("d3f4"),r=a("8b97").set;e.exports=function(e,t,a){var o,n=t.constructor;return n!==a&&"function"==typeof n&&(o=n.prototype)!==a.prototype&&i(o)&&r&&r(e,o),e}},7321:function(e,t,a){},"7f7f":function(e,t,a){var i=a("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,n="name";n in r||a("9e1e")&&i(r,n,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"83af":function(e,t,a){"use strict";a.d(t,"d",function(){return o}),a.d(t,"b",function(){return l}),a.d(t,"a",function(){return s}),a.d(t,"c",function(){return c});a("a481"),a("6762"),a("2fdb"),a("28a5"),a("4917"),a("3b2f");var i=a("bc3a"),r=a.n(i),o=function(e,t){t.$router.push(e),t.$emit("change",e),console.log("跳转到"+e)},n=function(e,t,a){var i=new Date;i.setTime(i.getTime()+1e3*a);var r="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+r+";path=/"},l=function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){var r=a[i];while(" "==r.charAt(0))r=r.substring(1);if(-1!=r.indexOf(t))return r.substring(t.length,r.length)}return""},s=function(e){n(e,"",-1)},c=function(){var e=r.a.create({headers:{"Content-Type":"multipart/form-data"},withCredentials:!0,baseURL:"http://sharingideas.cn/"});return e}},"85f2":function(e,t,a){e.exports=a("454f")},"8ad4":function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return l});var i=a("c3de"),r=new i["a"],o=function(e){return r.uploadFileInstance().post("/backstage/course/preview",e)},n=function(e,t){return r.post("/admin/modifyFileStatus",e,t)},l=function(e,t){return r.get("/admin/getUncheckFiles",e,t)}},"8b97":function(e,t,a){var i=a("d3f4"),r=a("cb7c"),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,a){return o(e,a),t?e.__proto__=a:i(e,a),e}}({},!1):void 0),check:o}},9093:function(e,t,a){var i=a("ce10"),r=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},a5d8:function(e,t,a){},aa77:function(e,t,a){var i=a("5ca1"),r=a("be13"),o=a("79e5"),n=a("fdef"),l="["+n+"]",s="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(e,t,a){var r={},l=o(function(){return!!n[e]()||s[e]()!=s}),c=r[e]=l?t(m):n[e];a&&(r[a]=c),i(i.P+i.F*l,"String",r)},m=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},ac6a:function(e,t,a){for(var i=a("cadf"),r=a("0d58"),o=a("2aba"),n=a("7726"),l=a("32e9"),s=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),m=s.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),g=0;g<p.length;g++){var b,h=p[g],y=f[h],v=n[h],w=v&&v.prototype;if(w&&(w[u]||l(w,u,m),w[d]||l(w,d,h),s[h]=m,y))for(b in i)w[b]||o(w,b,i[b],!0)}},b0b4:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("85f2"),r=a.n(i);function o(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r()(e,i.key,i)}}function n(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}},c3de:function(e,t,a){"use strict";a.d(t,"a",function(){return y});var i=a("d225"),r=a("b0b4"),o=a("a026"),n=a("bc3a"),l=a.n(n),s=a("455a"),c=a("323e"),u=a.n(c),d=(a("a5d8"),a("4328")),m=a.n(d),f=new o["default"],p="application/x-www-form-urlencoded",g="multipart/form-data",b=Object(s["getLocation"])(window.location.href),h=b.protocol+"//"+b.host,y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;Object(i["a"])(this,e),this._axiosInstance=this.createInstance(t)}return Object(r["a"])(e,[{key:"createInstance",value:function(e){var t=l.a.create({transformRequest:[function(e){return e=m.a.stringify(e),e}],headers:{"Content-Type":e},timeout:15e3,withCredentials:!0,baseURL:h});return t.interceptors.response.use(function(e){return 200===e.data.code?Promise.resolve(e.data):Promise.reject(e.data)},function(e){var t=e.response;if(t)return Promise.reject(t.data);f.$message.error("网络似乎出了一些状况")}),t}},{key:"uploadFileInstance",value:function(){return l.a.create({headers:{"Content-Type":g},withCredentials:!0,baseURL:h})}},{key:"get",value:function(e,t,a){return u.a.start(),this.axiosInstance.get(e,{params:t}).then(function(e){return u.a.done(),a(e)},function(e){throw u.a.done(),f.$message({showClose:!0,message:e.message,type:"error"}),console.log(e),new Error("出错啦")}).catch(function(e){u.a.done(),console.log(e)})}},{key:"post",value:function(e,t,a){return u.a.start(),this.axiosInstance.post(e,t,{transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],withCredentials:!0}).then(function(e){return u.a.done(),a(e)},function(e){throw u.a.done(),f.$message({showClose:!0,message:e.message,type:"error"}),console.log(e),new Error("出错啦")}).catch(function(e){u.a.done(),console.log(e)})}},{key:"axiosInstance",get:function(){return this._axiosInstance}}]),e}()},c5f6:function(e,t,a){"use strict";var i=a("7726"),r=a("69a8"),o=a("2d95"),n=a("5dbc"),l=a("6a99"),s=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,m=a("aa77").trim,f="Number",p=i[f],g=p,b=p.prototype,h=o(a("2aeb")(b))==f,y="trim"in String.prototype,v=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():m(t,3);var a,i,r,o=t.charCodeAt(0);if(43===o||45===o){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var n,s=t.slice(2),c=0,u=s.length;c<u;c++)if(n=s.charCodeAt(c),n<48||n>r)return NaN;return parseInt(s,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(h?s(function(){b.valueOf.call(a)}):o(a)!=f)?n(new g(v(t)),a,p):v(t)};for(var w,C=a("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)r(g,w=C[_])&&!r(p,w)&&d(p,w,u(g,w));p.prototype=b,b.constructor=p,a("2aba")(i,f,p)}},d225:function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",function(){return i})},dbf0:function(e,t,a){},e65e:function(e,t,a){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=admin-file-review.ef3a18a3.js.map